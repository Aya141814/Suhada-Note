<div class="drawer-side z-20">
  <label for="my-drawer" aria-label="close sidebar" class="drawer-overlay"></label>
  <ul class="menu p-4 w-80 min-h-full bg-base-200 text-base-content">
    <% if logged_in? %>
      <li class="menu-title mt-8">メニュー</li>
      <li><%= link_to t('header.dashboard'), dashboard_path %></li>
      <li><%= link_to t('header.board_index'), boards_path %></li>
      <li><%= link_to t('header.cheer_index'), cheers_boards_path %></li>
      <li><%= link_to t('header.create_board'), new_board_path %></li>

      <li class="menu-title mt-8">ユーザー</li>
      <li><%= link_to t('header.profile'), profile_path %></li>
      <li><%= link_to t('header.trophies'), trophies_path %></li>
      <li><%= link_to t('header.logout'), logout_path, data: { turbo_method: :delete } %></li>

      <li class="mt-4">
        <%= link_to streak_path, class: "flex items-center" do %>
          <span>
          <% if current_user.streak %>
            <% if current_user.streak.current_streak >= 1 %>
              <span class="text-success font-semibold"><%= current_user.streak.current_streak %> 日連続投稿中！</span>
            <% else %>
              （記録を投稿しよう！）
            <% end %>
          <% else %>
              （記録を投稿しよう！）
          <% end %>
        </span>
        <% end %>
      </li>
    <% else %>
      <li class="menu-title">メニュー</li>
      <li><%= link_to t('header.login'), login_path %></li>
      <li><%= link_to t('defaults.terms'), page_path('terms') %></li>
    <% end %>
  </ul>
</div> 