<% content_for(:title, t('.title')) %>
<div class="container mx-auto px-4">
    <div class="flex justify-center">
        <div class="w-full md:w-2/3 lg:w-1/2">
            <h1 class="text-2xl font-bold mb-4"><%= t('.title') %></h1>
            <%= form_with model: @user, url: profile_path, method: :put, class: 'space-y-4' do |f| %>
            <%= render 'shared/error_messages', object: f.object %>
            <div class="mb-3">
                <%= f.label :email, class: "block text-sm font-medium text-gray-700" %>
                <%= f.email_field :email, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" %>
            </div>
            <div class="mb-3">
                <%= f.label :nickname, class: "block text-sm font-medium text-gray-700" %>
                <%= f.text_field :nickname, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" %>
            </div>
            <div class="mb-3">
                <%= f.label :avatar, class: "block text-sm font-medium text-gray-700" %>
                <%= f.file_field :avatar, class: 'mt-1 block w-full', accept: 'image/*' %>
                <%= f.hidden_field :avatar_cache %>
                <div class='mt-3 mb-3'>
                    <%= image_tag @user.avatar.url, class: 'rounded-full', id: 'preview', width: 100, height: 100 %>
                </div>
            </div>
            <%= f.submit class: "w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
            <% end %>
            <div class='text-center mt-4'>
                <%= link_to t('profiles.edit.to_login_page'), login_path, class: "text-indigo-600 hover:text-indigo-800" %>
            </div>
        </div>
    </div>
</div>